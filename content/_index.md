
+++

title = "Runtime load-shifting of distributed controllers across networked devices"
description = "DAIS 2023"
outputs = ["Reveal"]

+++

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

# Runtime load-shifting of distributed controllers across networked devices

## *Danilo Pianini*, Angelo Filaseta

### @DAIS 2023, Lisboa

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}


---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<i class="fa-solid fa-arrow-right" style="
  color: #333;
  font-size: 5em;
  position: absolute;
  top: 400px;
  left: 875px;
  transform: rotate(20deg);
"></i>

<div style="
  position: absolute;
<i class="fa-solid fa-arrow-right" style="
  color: #333;
  font-size: 5em;
  position: absolute;
  top: 400px;
  left: 875px;
  transform: rotate(20deg);
"></i>

<div style="
  position: absolute;
  width: 300px;
  height: 200px;
  top: 220px;
  left: 540px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 400px;
  left: 1000px;
  height: 400px;
  width: 550px;
">

![](try-hack.png)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<i class="fa-solid fa-arrow-right" style="
  color: #333;
  font-size: 5em;
  position: absolute;
  top: 320px;
  left: 1170px;
  transform: rotate(70deg);
"></i>

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 400px;
  left: 1100px;
  height: 400px;
  width: 550px;
">

![](try-hack.png)

</div>


---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<i class="fa-solid fa-arrow-right" style="
  color: #333;
  font-size: 5em;
  position: absolute;
  top: 320px;
  left: 1170px;
  transform: rotate(70deg);
"></i>

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 400px;
  left: 1100px;
  height: 400px;
  width: 550px;
">

![](try-hack.png)

</div>

<div style="
  position: absolute;
  top: 475px;
  left: 1210px;
  height: 400px;
  width: 100px;
">

![](mac-loading-icon-0.jpg)

</div>


<div style="
  position: absolute;
  top: 70px;
  left: 150px;
  height: 400px;
  width: 700px;
">

![](mac-loading-icon-0.jpg)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<i class="fa-solid fa-arrow-right" style="
  color: #333;
  font-size: 5em;
  position: absolute;
  top: 320px;
  left: 1170px;
  transform: rotate(70deg);
"></i>

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 400px;
  left: 1100px;
  height: 400px;
  width: 550px;
">

![](try-hack.png)

</div>

<div style="
  position: absolute;
  top: 475px;
  left: 1210px;
  height: 400px;
  width: 100px;
">

![](mac-loading-icon-0.jpg)

</div>


<div style="
  position: absolute;
  top: 70px;
  left: 150px;
  height: 400px;
  width: 700px;
">

![](mac-loading-icon-0.jpg)

</div>

<div style="
  position: absolute;
  top: 405px;
  left: 1380px;
  height: 400px;
  width: 173px;
">

![](worried-vault-boy.png)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 600px;
  left: 1130px;
  height: 100px;
  width: 100px;
">

![](hamster.gif)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 600px;
  left: 1130px;
  height: 100px;
  width: 100px;
">

![](hamster.gif)

</div>

<div style="
  position: absolute;
  top: 590px;
  left: 1340px;
  height: 180px;
  width: 180px;
">

![](money.gif)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 0px;
  left: 1200px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
">

![](pip-boy-happy.png)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 0px;
  left: 1200px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
">

![](pip-boy-happy.png)

</div>

<div style="
  position: absolute;
  top: 280px;
  left: 1270px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 0px;
  left: 1200px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
">

![](pip-boy-happy.png)

</div>

<div style="
  position: absolute;
  top: 65px;
  left: 1320px;
  width: 200px;
  height: 200px;
  border-radius: 40px;
  transform: rotate(-90deg)
">

![](full.png)

</div>

<div style="
  position: absolute;
  top: 280px;
  left: 1270px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 110px;
  left: 1270px;
  height: 70px;
  width: 70px;
">

![](hamster.gif)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 0px;
  left: 1200px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
">

![](pip-boy-happy.png)

</div>

<div style="
  position: absolute;
  top: 65px;
  left: 1320px;
  width: 200px;
  height: 200px;
  border-radius: 40px;
  transform: rotate(-90deg)
">

![](full.png)

</div>


<div style="
  position: absolute;
  top: 110px;
  left: 1270px;
  height: 70px;
  width: 70px;
">

![](hamster.gif)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 0px;
  left: 1200px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
">

![](pip-boy-happy.png)

</div>

<div style="
  position: absolute;
  top: 65px;
  left: 1320px;
  width: 200px;
  height: 200px;
  border-radius: 40px;
  transform: rotate(-90deg)
">

![](low.png)

</div>

<div style="
  position: absolute;
  top: 110px;
  left: 1270px;
  height: 70px;
  width: 70px;
">

![](hamster.gif)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 0px;
  left: 1200px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
">

![](pip-boy-happy.png)

</div>

<div style="
  position: absolute;
  top: 65px;
  left: 1320px;
  width: 200px;
  height: 200px;
  border-radius: 40px;
  transform: rotate(-90deg)
">

![](low.png)

</div>

<div style="
  position: absolute;
  top: 110px;
  left: 1270px;
  height: 70px;
  width: 70px;
">

![](hamster.gif)

</div>

<i class="fa-solid fa-arrow-down" style="
  color: #333;
  font-size: 8em;
  position: absolute;
  top: 300px;
  left: 1200px;
  transform: rotate(10deg);
"></i>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 0px;
  left: 1200px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
">

![](pip-boy-happy.png)

</div>

<div style="
  position: absolute;
  top: 65px;
  left: 1320px;
  width: 200px;
  height: 200px;
  border-radius: 40px;
  transform: rotate(-90deg)
">

![](low.png)

</div>

<i class="fa-solid fa-arrow-down" style="
  color: #333;
  font-size: 8em;
  position: absolute;
  top: 300px;
  left: 1200px;
  transform: rotate(10deg);
"></i>


<div style="
  position: absolute;
  top: 600px;
  left: 1130px;
  height: 100px;
  width: 100px;
">

![](hamster.gif)

</div>

---

{{%
    slide background-image="test.gif"
    transition="fade"
    preload="true"
%}}

<div style="
  position: absolute;
  top: 75px;
  left: -50px;
  width: 1200px;
  height: 750px;
  border-radius: 40px;
  border: 5px solid #333;
  background: #008c3199;
"></div>

<div style="
  position: absolute;
  top: 570px;
  left: 850px;
  height: 800px;
  width: 900px;
">

![](hacker.png)

</div>

<div style="
  position: absolute;
  top: 0px;
  left: 1200px;
  width: 200px;
  height: 150px;
  border-radius: 40px;
">

![](pip-boy-happy.png)

</div>

<div style="
  position: absolute;
  top: 65px;
  left: 1320px;
  width: 200px;
  height: 200px;
  border-radius: 40px;
  transform: rotate(-90deg)
">

![](low.png)

</div>

<i class="fa-solid fa-arrows-up-down" style="
  color: #333;
  font-size: 8em;
  position: absolute;
  top: 300px;
  left: 1200px;
  transform: rotate(10deg);
"></i>


<div style="
  position: absolute;
  top: 600px;
  left: 1130px;
  height: 100px;
  width: 100px;
">

![](hamster.gif)

</div>

---



{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Summary

* Controlling and monitoring *large situated systems* can be computationally expensive
* *Heterogeneity* of devices impact both controllee and controller
  * Workloads should be able to run on *very different runtimes and hardware*
* Heavy workloads impact negatively on *performance* and *battery life*
* *Scaling up* is not always possible
  * And even when possible, it is often *expensive*


#### Instead of scaling, we want to **shift** the load at **runtime**, depending on the context, and **across different runtimes**!

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Analogies

| **System** | **Similarity** | **Difference** |
| --- | --- | --- |
| *Load balancing in cloud systems* | shifts computational load to optimize performance | assumes *homogeneous* (cloud) devices |
| *Mobile code* / *mobile agents* | computational load is designed to be moved across devices | available technologies assume a *shared runtime/middleware* |
| *Cloud gaming* | capable to run the same heavy workload as a local application or as a bidirectional stream | does not loadshift at *runtime* (requires shutdown and restart) |

<!-- ### Load balancing in cloud systems

Tasks *allocated* to the available compute resources to optimise the performance

It does not account for transferring load across **heterogeneous** devices:
wordloads made for the cloud remain in the cloud

#### Workloads must *move across the whole edge-cloud continuum*

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Analogies

### Mobile code and mobile agents

Workloads are *modeled* as *autonomous software entities* which can move across the network

Typically, however, they require **specific runtimes** to be executed

Mobile agents designed for the Java Virtual Machine do not run in a browser or in a microcontroller

#### Workloads must *move across different runtimes*

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Analogies

### Gaming industry

"AAA" Games are very resource-intensive and require expensive hardware:
several players are thus offering *cloud gaming* services.

Idea: *stream* the game to the player, and *stream back* the input
(e.g., <i class="fa-brands fa-google"></i> Stadia, <i class="fa-brands fa-microsoft"></i> xCloud, <i class="fa-brands fa-amazon"></i> Luna, nVidia GeForce Now...).
The same workload can thus, in principle, run in the cloud or on the end device.

Moreover,
some games have been demonstrated to run inside a web browser:
porting on *different runtimes* is possible in principle
(e.g., Quake JS).

Games, however, **do not move** across runtimes, they are entirely different applications that need to be **manually restarted**.

Also, versions targeting different runtimes are typically **reimplementations** (costly realization and maintenance).

#### Workloads must *move transparently to the user* and have *cheap realization and maintenance*

-->

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Abstract architecture

![abstract architecture](architecture.svg)

*Far Endpoint* **$\mathcal{F}$** -- software component, usually *non-local*, that provides
means to perform the primary operations required on the target system
through a *well-defined API*;

*Near Endpoint* **$\mathcal{N}$** -- software component *the user interacts directly with*,
hence, running *on a device the user has direct access to*, whose goal is to
interact with the Far Endpoint;

*Common Data Model* **$\mathcal{M}$** -- a *formal* (and *serialisable*) description of
the *data exchanged* among all the components of the system;

*Heavy-duty Executor* **$\mathcal{H}$** --
software module performing
*resource-intensive computational tasks*;
this is the component that _can be executed and moved on either **$\mathcal{F}$** or **$\mathcal{N}$**_

<img src="hamster.gif" alt="hamster" style="width: 100px; height: 100px; margin: 0 0 0 0; position: absolute; top: 610px; left: -90px"/>
<img src="hamster.gif" alt="hamster" style="width: 100px; height: 100px; margin: 0 0 0 0; position: absolute; top: 610px; left: 1430px"/>

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Key idea

![abstract architecture](architecture.svg)

* *Isolate* **$\mathcal{H}$** from the rest of the system;
* *Encapsulate* the data model in a *serialisable* shared format **$\mathcal{M}$**;
* *Mediate* all $\mathcal{N} \rightleftarrows{} \mathcal{F}$ interactions through **$\mathcal{H}$** leveraging **$\mathcal{M}$**
  * $\mathcal{N} \rightleftarrows{} \mathcal{M} \rightleftarrows{} \mathcal{H} \rightleftarrows{} \mathcal{M} \rightleftarrows{} \mathcal{F}$;

In short, the architecture struggles to *isolate* and *minimize* the part of code that needs to be *moved*.

#### Practical problem: how to *move* **$\mathcal{H}$** across *different runtimes*?

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Moving code around: strategies

#### **Copy and enable**
* every devices has a *dormant instance* of **$\mathcal{H}$**
* only *one copy* of **$\mathcal{H}$** can be *active at a time*
* requires **$\mathcal{H}$** to be *stateless*
  * all state must be serializable and embedded into **$\mathcal{M}$**
* Relatively *straightforward* to implement when **$\mathcal{H}$** natively has little or no state
* Better *reactivity* as only commands and state travel over the network
* *Wastes resources* to keep a copy of **$\mathcal{H}$** on all devices

#### **Mobile code**
* **$\mathcal{H}$** gets serialized and sent over the network
* *Better flexibility* as state and behaviour move together
* A single shared copy potentially enables *runtime update injection*
  * How to preserve the integrity of the ongoing operation is an open problem though
* *Harder to implement*
* Potentially *inferior reactivity* as only commands and state travel over the network

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Portability

| **Approach** | **Pros** | **Cons** | **Notes** |
| --- | --- | --- | --- |
| *Shared tech/runtime* | Portability guaranteed by the runtime | Portability limited to the portability of the runtime | No need of this architecture (becomes an overkill) |
| *Porting* | Each implementation can be optimized | Expensive development, expensive maintenance, error-prone, duplication | Notable examples exist, such as ioquake 3 |
| *Multi-targeting* | Single codebase as in the shared runtime | More complex build process, few technologies | Kotlin and Scala viable solutions |

<!-- 
**$\mathcal{H}$** must be able to run as a module of **$\mathcal{N}$** and **$\mathcal{F}$**<br>
but *we did not impose any constraint on the runtime or technology*

### Shared technology/runtime
* **$\mathcal{N}$** and **$\mathcal{F}$** *share a runtime*
  * they can be written in *different languages* as far as their *executable* form is *portable*
* The proposed architecture is a *complicating overkill* in this case
  * Many ready-to-use solutions from the literature

### Incompatible runtimes

* **$\mathcal{N}$** and **$\mathcal{F}$** are based on *incompatible runtimes* (e.g., **$\mathcal{F}$** runs in the JVM, **$\mathcal{N}$** in the browser)
* Two macro-strategies:
  * *Porting* **$\mathcal{H}$** to each runtime
  * *Multi-targeting* **$\mathcal{H}$** to multiple runtimes

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Porting

*Rewrite* the *whole application* for *each runtime*

* *Expensive* and *error-prone*
* *Hard to maintain* as the code base is *duplicated* and avoiding *divergence* is a hard problem

* Adopted in some notable cases, e.g., ioquake 3 is a *port* of Quake 3 Arena to the browser
with the entire code base rewritten from C++ to JavaScript

<img src="https://global.discourse-cdn.com/standard14/uploads/ioquake/original/1X/9f34c23d7f1e457ea07f366b194e73792b0f45cd.jpeg" width="500" >

(notably, the last stable version of the original id Tech 3 engine has been released in 2005)

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Multi-targeting

*Offload* the task to generate executables for multiple runtimes to a *multi-target build process* generating *multiple executables*

* *Simple* at least on paper
* *Limited choice of technologies*
  * The more the target runtimes, the fewer the available technologies
* No shared runtime $\Rightarrow$ *No shared libraries!*
  * Host language and tooling must provide ways to abstract over the differences and pick the right one

### Notable platforms

* *Scala* -- through *Scala.js* and *Scala/Native*
* *Kotlin* -- *integrated* multi-targeting for Javascript, JVM
  * Arguably, more solid toolchain

-->

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Proof of concept

### Showcase requirements
* Use *incompatible platforms* for **$\mathcal{N}$** and **$\mathcal{F}$**
* Emulate multiple networked devices (non-trivial **$\mathcal{H}$**)
* Non-trivial workload moving across the incompatible platforms

### Nice to have
* Software architecture allowing to *reuse* as much code as possible
* Large enough to make porting unfeasible

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Proof of concept: target

### <img src="https://alchemistsimulator.github.io/images/logo.svg" alt="logo" width="33px" height="0px" style="margin: 0 0 0 0;"/> [Alchemist](https://alchemistsimulator.github.io/)

<video loop="" playsinline="" autoplay="true" muted="" style="max-width: 100%; display: inline-block; ">
  <source src="https://alchemistsimulator.github.io/home-animation.mp4" type="video/mp4">
  If your browser supported the video tag, there would be a nice video.
</video>

* Simulator for *large-scale distributed systems*
  * Also presented in a [DAIS tutorial](https://link.springer.com/chapter/10.1007/978-3-030-78198-9_10) in 2021
* <i class="fa-brands fa-java"></i> JVM-based (written in Java, Kotlin, and Scala)

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Proof of concept: architecture

![POC architecture](proof.svg)

| **Logical Component** | **Alchemist Component** | **Platform** |
| --- | --- | --- |
| **$\mathcal{M}$** | Simulator Model + *New serialization surrogates* | <i class="fa-brands fa-java"></i> and <i class="fa-brands fa-square-js"></i> |
| **$\mathcal{F}$** | Simulator Engine + *New server module* | <i class="fa-brands fa-java"></i> |
| **$\mathcal{N}$** | Browser | <i class="fa-brands fa-square-js"></i> |
| **$\mathcal{H}$** | *New rendering system* | <i class="fa-brands fa-java"></i> and <i class="fa-brands fa-square-js"></i> |


---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Proof of concept: design

![POC architecture](component.svg)


---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Proof of concept: demo


### `curl -sL https://bit.ly/dais-2023-loadshift | bash `

![running on N](client-snapshot.png)
![running on F](server-snapshot.png)

Feel free to try it yourself :)

Requirements: Java 8+, Internet connection, a browser, `curl`, and `bash`

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Proof of concept: performance analysis

![total time](3.pdf.svg)
![serialization time](0.pdf.svg)
![rendering time](2.pdf.svg)
![deserialization time](1.pdf.svg)

---

{{%
    slide background-image="https://raw.githubusercontent.com/DanySK/shared-slides/6824b93d3d52b841386a744f57953a73ccb67378/backgrounds/dark-net-dots.png"
    transition="slide"
    preload="true"
%}}

## Conclusion
* A *novel architecture* for *moving workloads across heterogeneous runtimes*
  1. Isolate the heavy load part
  2. Identify the shared model and make it serializable
  3. Mediate all interactions through the heavy load part and the shared model
  4. Either write multiple ports of the heavy load, or **much better**, use a multi-target build process
* The *Proof of concept* demonstrates feasibility
* The *Performance Analysis* suggests potentials benefits for heterogenuous systems and evolving contexts

## <img src="hamster.gif" style="margin: 0 0 0 0;" width="100px"/> Future work <img src="hamster.gif" style="margin: 0 0 0 0;" width="100px"/>
* PoC integrated in the simulator, but *way* more work is needed to make it *usable*
* Investigation of *autonomic dynamic load shift strategies*

---

(question time *unofficially* supported by the mighty load-shift hamster)

<div class="traveling" style="
  position: absolute;
  margin: 0 0 0 0;
">

![](hamster.gif)

</div>
